
language: node_js

notifications:
  email:
    on_success: never
    on_failure: never

node_js:
  - node

env:
  - mongoDbUrl: $mongoDbUrl


script:
  - npm start

after_success:
  - curl -X POST
    -H "Content-Type: application/json" \
    -H "Travis-API-Version: 3" \
    -H "Authorization: token $travisAccessToken" \
    -d '{ "request": {"branch": "$TRAVIS_BRANCH" }}'\
    https://api.travis-ci.com/repo/1/requests

after_fail:
  - curl -X POST
    -H "Content-Type: application/json" \
    -H "Travis-API-Version: 3" \
    -H "Authorization: token $travisAccessToken" \
    -d '{ "request": {"branch": "$TRAVIS_BRANCH" }}'\
    https://api.travis-ci.com/repo/1/requests
